@page
@model WadApplication.Pages.AllCharactersModel
@{
}

<h1>All Playable Characters</h1>

<form asp-page="./AllCharacters" method="get">
    <select name="searchStringElement" value="@Model.CurrentElementFilter" onchange="this.form.submit()">
        <option value="" disabled selected>Element Filter</option>
        @foreach (var item in Model.visionTypes)
        {
            if (item == Model.CurrentElementFilter)
            {
                <option selected="selected" value="@item">@item</option>
            }
            else
            {
                <option value="@item">@item</option>
            }
        }
    </select>
    <select name="searchStringWeapon" value="@Model.CurrentWeaponFilter" onchange="this.form.submit()">
        <option value="" disabled selected>Weapon Type Filter</option>
        @foreach (var item in Model.weaponTypes)
        {
            if (item == Model.CurrentWeaponFilter)
            {
                <option selected="selected" value="@item">@item</option>
            }
            else
            {
                <option value="@item">@item</option>
            }
        }
    </select>
    <select name="searchStringRarity" value="@Model.CurrentRarityFilter" onchange="this.form.submit()">
        <option value="" disabled selected>Rarity Filter</option>
        @foreach (var item in Model.rarity)
        {
            if (item == Model.CurrentRarityFilter)
            {
                <option selected="selected" value="@item">@item</option>
            }
            else
            {
                <option value="@item">@item</option>
            }
        }
    </select>
    <br />
    <input type="text" name="searchStringName" value="@Model.CurrentNameFilter" placeholder="Enter Character name" />
    <input type="submit" value="Search" class="" />
</form>

<section class="wrap">
    @foreach (var item in Model.Characters)
    {
        <div class="filmThumb">
            <div>
                <a asp-page="CharacterDetailPage" asp-route-id="@item.CharacterID">
                    <img src=@(string.Format(@"\images\CharacterImages\CharacterIcons\{0}.png",item.Name.Replace(" ", "%20"))) alt="@item.Name">
                </a>
            </div>
            <h3>
                @item.Name
                <br />
                @if (item.Vision == "Adaptive")
                {
                    <img src="~/images/ElementIcons/Adaptive2.gif" alt="Adaptive" height="48" width="48" />
                }
                else
                {
                    <img src=@(string.Format(@"/images/ElementIcons/{0}2.png",item.Vision)) alt="@item.Vision" height="48" width="48" />
                }
            </h3>
        </div>
    }
</section>

<a class="aBtns" asp-page="./AllCharacters">Back to full List</a>